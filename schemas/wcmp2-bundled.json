{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://schemas.wmo.int/wcmp/2.0/schemas/wcmp2-bundled.json",
  "title": "WCMP discovery metadata record definition",
  "description": "WCMP discovery metadata record definition",
  "required": [
    "id",
    "conformsTo",
    "type",
    "time",
    "geometry",
    "properties",
    "links"
  ],
  "properties": {
    "id": {
      "type": "string",
      "description": "A unique identifier of the catalog record.",
      "format": "uri"
    },
    "conformsTo": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "type": {
      "type": "string",
      "enum": [
        "Feature"
      ]
    },
    "time": {
      "oneOf": [
        {
          "enum": [
            null
          ]
        },
        {
          "type": "object",
          "properties": {
            "date": {
              "type": "string",
              "pattern": "^\\d{4}-\\d{2}-\\d{2}$"
            },
            "timestamp": {
              "type": "string",
              "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?Z$"
            },
            "interval": {
              "type": "array",
              "minItems": 2,
              "maxItems": 2,
              "items": {
                "oneOf": [
                  {
                    "type": "string",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2}$"
                  },
                  {
                    "type": "string",
                    "pattern": "^\\d{4}-\\d{2}$"
                  },
                  {
                    "type": "string",
                    "pattern": "^\\d{4}$"
                  },
                  {
                    "type": "string",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?Z$"
                  },
                  {
                    "type": "string",
                    "pattern": "^T\\d{2}(:\\d{2})?(:\\d{2})?(?:\\.\\d+)?Z$"
                  },
                  {
                    "type": "string",
                    "enum": [
                      ".."
                    ]
                  }
                ]
              }
            },
            "resolution": {
              "type": "string",
              "description": "Minimum time period resolvable in the dataset, as an ISO 8601 duration",
              "example": [
                "P1D"
              ]
            }
          }
        }
      ]
    },
    "geometry": {
      "oneOf": [
        {
          "enum": [
            null
          ]
        },
        {
          "oneOf": [
            {
              "type": "object",
              "required": [
                "type",
                "coordinates"
              ],
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "Point"
                  ]
                },
                "coordinates": {
                  "type": "array",
                  "minItems": 2,
                  "items": {
                    "type": "number"
                  }
                }
              }
            },
            {
              "type": "object",
              "required": [
                "type",
                "coordinates"
              ],
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "MultiPoint"
                  ]
                },
                "coordinates": {
                  "type": "array",
                  "items": {
                    "type": "array",
                    "minItems": 2,
                    "items": {
                      "type": "number"
                    }
                  }
                }
              }
            },
            {
              "type": "object",
              "required": [
                "type",
                "coordinates"
              ],
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "LineString"
                  ]
                },
                "coordinates": {
                  "type": "array",
                  "minItems": 2,
                  "items": {
                    "type": "array",
                    "minItems": 2,
                    "items": {
                      "type": "number"
                    }
                  }
                }
              }
            },
            {
              "type": "object",
              "required": [
                "type",
                "coordinates"
              ],
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "MultiLineString"
                  ]
                },
                "coordinates": {
                  "type": "array",
                  "items": {
                    "type": "array",
                    "minItems": 2,
                    "items": {
                      "type": "array",
                      "minItems": 2,
                      "items": {
                        "type": "number"
                      }
                    }
                  }
                }
              }
            },
            {
              "type": "object",
              "required": [
                "type",
                "coordinates"
              ],
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "Polygon"
                  ]
                },
                "coordinates": {
                  "type": "array",
                  "items": {
                    "type": "array",
                    "minItems": 4,
                    "items": {
                      "type": "array",
                      "minItems": 2,
                      "items": {
                        "type": "number"
                      }
                    }
                  }
                }
              }
            },
            {
              "type": "object",
              "required": [
                "type",
                "coordinates"
              ],
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "MultiPolygon"
                  ]
                },
                "coordinates": {
                  "type": "array",
                  "items": {
                    "type": "array",
                    "items": {
                      "type": "array",
                      "minItems": 4,
                      "items": {
                        "type": "array",
                        "minItems": 2,
                        "items": {
                          "type": "number"
                        }
                      }
                    }
                  }
                }
              }
            },
            {
              "type": "object",
              "required": [
                "type",
                "geometries"
              ],
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "GeometryCollection"
                  ]
                },
                "geometries": {
                  "type": "array",
                  "items": {
                    "$ref": "#/properties/geometry/oneOf/1"
                  }
                }
              }
            }
          ]
        }
      ]
    },
    "additionalExtents": {
      "description": "The extent of the information in the collection. In the Core only spatial and temporal\nextents are specified. Extensions may add additional members to represent other\nextents, for example, thermal or pressure ranges.",
      "type": "object",
      "properties": {
        "spatial": {
          "description": "The spatial extent of the information in the collection.",
          "type": "object",
          "required": [
            "bbox",
            "crs"
          ],
          "properties": {
            "bbox": {
              "description": "One or more bounding boxes that describe the spatial extent of the dataset.\nIn the Core only a single bounding box is supported. Extensions may support\nadditional areas. If multiple areas are provided, the union of the bounding\nboxes describes the spatial extent.",
              "type": "array",
              "minItems": 1,
              "items": {
                "description": "Each bounding box is provided as four or six numbers, depending on\nwhether the coordinate reference system includes a vertical axis\n(height or depth):\n\n* Lower left corner, coordinate axis 1\n* Lower left corner, coordinate axis 2\n* Minimum value, coordinate axis 3 (optional)\n* Upper right corner, coordinate axis 1\n* Upper right corner, coordinate axis 2\n* Maximum value, coordinate axis 3 (optional)\n\nThe coordinate reference system of the values is WGS 84 longitude/latitude\n(http://www.opengis.net/def/crs/OGC/1.3/CRS84) unless a different coordinate\nreference system is specified in `crs`.\n\nFor WGS 84 longitude/latitude the values are in most cases the sequence of\nminimum longitude, minimum latitude, maximum longitude and maximum latitude.\nHowever, in cases where the box spans the antimeridian the first value\n(west-most box edge) is larger than the third value (east-most box edge).\n\nIf the vertical axis is included, the third and the sixth number are\nthe bottom and the top of the 3-dimensional bounding box.\n\nIf a feature has multiple spatial geometry properties, it is the decision of the\nserver whether only a single spatial geometry property is used to determine\nthe extent or all relevant geometries.",
                "oneOf": [
                  {
                    "items": {
                      "type": "number"
                    },
                    "minItems": 4,
                    "maxItems": 4,
                    "type": "array"
                  },
                  {
                    "items": {
                      "type": "number"
                    },
                    "minItems": 6,
                    "maxItems": 6,
                    "type": "array"
                  }
                ]
              },
              "example": [
                -180,
                -90,
                180,
                90
              ]
            },
            "crs": {
              "description": "Coordinate reference system of the coordinates in the spatial extent\n(property `bbox`). The default reference system is WGS 84 longitude/latitude.\nIn the Core this is the only supported coordinate reference system.\nExtensions may support additional coordinate reference systems ",
              "type": "string",
              "default": "GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.01745329251994328,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]]"
            },
            "name": {
              "description": "Name of the vertical coordinate reference system",
              "type": "string"
            }
          }
        },
        "temporal": {
          "description": "The temporal extent of the information in the collection.",
          "type": "object",
          "required": [
            "interval",
            "trs"
          ],
          "properties": {
            "interval": {
              "description": "RFC3339 compliant Date and Time",
              "type": "array",
              "minItems": 1,
              "items": {
                "description": "Begin and end times of the time interval. The timestamps are in the\ntemporal coordinate reference system specified in `trs`. By default\nthis is the Gregorian calendar.",
                "type": "array",
                "minItems": 2,
                "maxItems": 2,
                "items": {
                  "type": "string",
                  "nullable": true
                },
                "example": [
                  [
                    "2020-11-12T12:15Z",
                    "2020-11-12T12:15Z"
                  ],
                  [
                    "2020-11-12T12:15Z",
                    "2020-11-12T12:45Z"
                  ],
                  [
                    "2022-01-14T09:00Z",
                    "2022-01-15T09:00Z"
                  ],
                  [
                    "2022-01-14T09:00Z",
                    "2022-01-14T21:00Z"
                  ],
                  [
                    "2022-01-14T09:00Z",
                    "2022-01-16T09:00Z"
                  ]
                ]
              }
            },
            "values": {
              "description": "Provides information about the time intervals available in the collection \nas ISO8601 compliant dates, either as a time range specified \nas start time / end time  (e.g. 2017-11-14T09:00Z/2017-11-14T21:00Z)  or\nas number of repetitions / start time / interval (e.g. R4/2017-11-14T21:00Z/PT3H) \nor a list of time values (e.g.\n2017-11-14T09:00Z,2017-11-14T12:00Z,2017-11-14T15:00Z,2017-11-14T18:00Z,2017-11-14T21:00Z)",
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "string",
                "minItems": 1,
                "nullable": true,
                "example": [
                  [
                    "2020-11-12T12:15Z"
                  ],
                  [
                    "2020-11-12T12:15Z",
                    "2020-11-12T12:30Z",
                    "2020-11-12T12:45Z"
                  ],
                  [
                    "R12/2022-01-14T09:00Z/2022-01-15T09:00Z"
                  ],
                  [
                    "R12/2022-01-14T09:00Z/PT1H"
                  ],
                  [
                    "R12/2022-01-14T09:00Z/PT1H",
                    "R4/2022-01-14T21:00Z/PT3H",
                    "R4/2022-01-15T09:00Z/PT6H"
                  ]
                ]
              }
            },
            "trs": {
              "description": "Coordinate reference system of the coordinates in the temporal extent\n(property `interval`). The default reference system is the Gregorian calendar.\nIn the Core this is the only supported temporal coordinate reference system.\nExtensions may support additional temporal coordinate reference systems ",
              "type": "string",
              "example": "TIMECRS[\"DateTime\",TDATUM[\"Gregorian Calendar\"],CS[TemporalDateTime,1],AXIS[\"Time (T)\",future]]",
              "default": "http://www.opengis.net/def/uom/ISO-8601/0/Gregorian"
            },
            "name": {
              "description": "Name of the temporal coordinate reference system",
              "type": "string"
            }
          }
        },
        "vertical": {
          "description": "The vertical extent of the information in the collection.",
          "type": "object",
          "required": [
            "interval",
            "vrs"
          ],
          "properties": {
            "interval": {
              "description": "In the Core only a single time interval is supported. Extensions may support\nmultiple intervals. If multiple intervals are provided, the union of the\nintervals describes the vertical extent.",
              "type": "array",
              "minItems": 1,
              "items": {
                "description": "minimum and maximum heights of the vertical interval. The values are in the\nvertical coordinate reference system specified in `vrs`. By default\nthis is the vertical coordinate reference system of the source information.",
                "type": "array",
                "minItems": 1,
                "items": {
                  "type": "string",
                  "nullable": true
                },
                "example": [
                  [
                    "2",
                    "100"
                  ]
                ]
              }
            },
            "values": {
              "description": "Vertical level intervals that data in the collection is available at \nthese can be defined as follows:\nmin level / max level (e.g. \"2/100\") or \nas number of repetitions / start level / interval (e.g.\"R5/100/50\") \nor a list of vertical levels (e.g. \"2\",10,\"80\",\"100\"}\nThe value `null` is supported and indicates an open vertical interval.",
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "string",
                "nullable": true,
                "example": [
                  [
                    "2/100"
                  ],
                  [
                    "R20/1000/-50"
                  ],
                  [
                    "2",
                    "10",
                    "80",
                    "100"
                  ]
                ]
              }
            },
            "vrs": {
              "description": "Coordinate reference system of the coordinates in the vertical extent\n(property `interval`). ",
              "type": "string",
              "example": "VERTCS[\"WGS_1984\",DATUM[\"D_WGS_1984\",SPHEROID[\"WGS_1984\",6378137.0,298.257223563]],PARAMETER[\"Vertical_Shift\",0.0],PARAMETER[\"Direction\",1.0],UNIT[\"Meter\",1.0]],AXIS[\"Up\",UP]",
              "default": "VERTCS[\"WGS_1984\",DATUM[\"D_WGS_1984\",SPHEROID[\"WGS_1984\",6378137.0,298.257223563]],PARAMETER[\"Vertical_Shift\",0.0],PARAMETER[\"Direction\",1.0],UNIT[\"Meter\",1.0]],AXIS[\"Up\",UP]"
            },
            "name": {
              "description": "Name of the vertical coordinate reference system",
              "type": "string"
            }
          }
        }
      }
    },
    "properties": {
      "type": "object",
      "required": [
        "type",
        "title",
        "description",
        "contacts",
        "created"
      ],
      "properties": {
        "type": {
          "type": "string",
          "description": "The nature or genre of the resource. The value should be a code, convenient for filtering records. Where available, a link to the canonical URI of the record type resource will be added to the 'links' property.",
          "maxLength": 64
        },
        "title": {
          "type": "string",
          "description": "A human-readable name given to the resource."
        },
        "description": {
          "type": "string",
          "description": "A free-text account of the resource."
        },
        "keywords": {
          "type": "array",
          "description": "The topic or topics of the resource. Typically represented using free-form keywords, tags, key phrases, or classification codes.",
          "items": {
            "type": "string"
          }
        },
        "themes": {
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "object",
            "required": [
              "concepts",
              "scheme"
            ],
            "properties": {
              "concepts": {
                "type": "array",
                "description": "One or more entity/concept identifiers from this knowledge system. it is recommended that a resolvable URI be used for each entity/concept identifier.",
                "minItems": 1,
                "items": {
                  "type": "object",
                  "required": [
                    "id"
                  ],
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "An identifier for the concept."
                    },
                    "title": {
                      "type": "string",
                      "description": "A human readable title for the concept."
                    },
                    "description": {
                      "type": "string",
                      "description": "A human readable description for the concept."
                    },
                    "url": {
                      "type": "string",
                      "format": "uri",
                      "description": "A URI providing further description of the concept."
                    }
                  }
                }
              },
              "scheme": {
                "type": "string",
                "description": "An identifier for the knowledge organization system used to classify the resource.  It is recommended that the identifier be a resolvable URI.  The list of schemes used in a searchable catalog can be determined by inspecting the server's OpenAPI document or, if the server implements CQL2, by exposing a queryable (e.g. named `scheme`) and enumerating the list of schemes in the queryable's schema definition."
              }
            }
          }
        },
        "contacts": {
          "type": "array",
          "minItems": 1,
          "items": {
            "allOf": [
              {
                "required": [
                  "organization"
                ],
                "additionalProperties": false,
                "type": "object",
                "description": "Identification of, and means of communication with, person responsible\nfor the resource.",
                "anyOf": [
                  {
                    "required": [
                      "name"
                    ]
                  },
                  {
                    "required": [
                      "organization"
                    ]
                  }
                ],
                "properties": {
                  "identifier": {
                    "type": "string",
                    "description": "A value uniquely identifying a contact."
                  },
                  "name": {
                    "type": "string",
                    "description": "The name of the responsible person."
                  },
                  "position": {
                    "type": "string",
                    "description": "The name of the role or position of the responsible person taken from the organization's formal organizational hierarchy or chart."
                  },
                  "organization": {
                    "type": "string",
                    "description": "Organization/affiliation of the contact."
                  },
                  "logo": {
                    "description": "Graphic identifying a contact. The link relation should be `icon` and the media type should be an image media type.",
                    "allOf": [
                      {
                        "type": "object",
                        "required": [
                          "href",
                          "rel"
                        ],
                        "properties": {
                          "href": {
                            "type": "string",
                            "example": "http://data.example.com/buildings/123"
                          },
                          "rel": {
                            "type": "string",
                            "example": "alternate"
                          },
                          "type": {
                            "type": "string",
                            "example": "application/geo+json"
                          },
                          "hreflang": {
                            "type": "string",
                            "example": "en"
                          },
                          "title": {
                            "type": "string",
                            "example": "Trierer Strasse 70, 53115 Bonn"
                          },
                          "length": {
                            "type": "integer"
                          }
                        }
                      },
                      {
                        "type": "object",
                        "required": [
                          "rel",
                          "type"
                        ],
                        "properties": {
                          "rel": {
                            "enum": [
                              "icon"
                            ]
                          }
                        }
                      }
                    ]
                  },
                  "phones": {
                    "type": "array",
                    "description": "Telephone numbers at which contact can be made.",
                    "items": {
                      "type": "object",
                      "required": [
                        "value"
                      ],
                      "properties": {
                        "value": {
                          "type": "string",
                          "description": "The value is the phone number itself.",
                          "pattern": "^\\+[1-9]{1}[0-9]{3,14}$",
                          "example": "+14165550142"
                        },
                        "roles": {
                          "description": "The type of phone number (e.g. home, work, fax, etc.).",
                          "$ref": "#/properties/properties/properties/contacts/items/allOf/0/properties/roles"
                        }
                      }
                    }
                  },
                  "emails": {
                    "type": "array",
                    "description": "Email addresses at which contact can be made.",
                    "items": {
                      "type": "object",
                      "required": [
                        "value"
                      ],
                      "properties": {
                        "value": {
                          "type": "string",
                          "description": "The value is the email number itself.",
                          "format": "email"
                        },
                        "roles": {
                          "description": "The type of email (e.g. home, work, etc.).",
                          "$ref": "#/properties/properties/properties/contacts/items/allOf/0/properties/roles"
                        }
                      }
                    }
                  },
                  "addresses": {
                    "type": "array",
                    "description": "Physical location at which contact can be made.",
                    "items": {
                      "type": "object",
                      "properties": {
                        "deliveryPoint": {
                          "type": "array",
                          "description": "Address lines for the location.",
                          "items": {
                            "type": "string"
                          }
                        },
                        "city": {
                          "type": "string",
                          "description": "City for the location."
                        },
                        "administrativeArea": {
                          "type": "string",
                          "description": "State or province of the location."
                        },
                        "postalCode": {
                          "type": "string",
                          "description": "ZIP or other postal code."
                        },
                        "country": {
                          "type": "string",
                          "description": "Country of the physical address.  ISO 3166-1 is recommended."
                        },
                        "roles": {
                          "description": "The type of address (e.g. office, home, etc.).",
                          "$ref": "#/properties/properties/properties/contacts/items/allOf/0/properties/roles"
                        }
                      }
                    }
                  },
                  "links": {
                    "type": "array",
                    "description": "On-line information about the contact.",
                    "items": {
                      "allOf": [
                        {
                          "$ref": "#/properties/properties/properties/contacts/items/allOf/0/properties/logo/allOf/0"
                        },
                        {
                          "type": "object",
                          "required": [
                            "type"
                          ]
                        }
                      ]
                    }
                  },
                  "hoursOfService": {
                    "type": "string",
                    "description": "Time period when the contact can be contacted.",
                    "example": "Hours: Mo-Fr 10am-7pm Sa 10am-22pm Su 10am-21pm"
                  },
                  "contactInstructions": {
                    "type": "string",
                    "description": "Supplemental instructions on how or when to contact the\nresponsible party."
                  },
                  "roles": {
                    "description": "The set of named duties, job functions and/or permissions associated with this contact. (e.g. developer, administrator, etc.).",
                    "type": "array",
                    "minItems": 1,
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            ]
          }
        },
        "version": {
          "type": "string",
          "description": "The version or edition of a given dataset."
        },
        "externalIds": {
          "type": "array",
          "description": "An identifier for the resource assigned by an external (to the catalog) entity.",
          "items": {
            "type": "object",
            "properties": {
              "scheme": {
                "type": "string",
                "description": "A reference to an authority or identifier for a knowledge organization system from which the external identifier was obtained.  It is recommended that the identifier be a resolvable URI."
              },
              "value": {
                "type": "string",
                "description": "The value of the identifier."
              }
            },
            "required": [
              "value"
            ]
          }
        },
        "created": {
          "type": "string",
          "description": "Date of creation of this record.",
          "format": "date-time"
        },
        "updated": {
          "type": "string",
          "description": "The most recent date on which the record was changed.",
          "format": "date-time"
        },
        "wmo:dataPolicy": {
          "type": "string",
          "description": "The data policy definition as per the WMO Unified Data Policy Resolution (Res.1) [23].",
          "enum": [
            "core",
            "recommended"
          ]
        },
        "rights": {
          "type": "string",
          "description": "A statement that concerns all rights not addressed by the license such as a copyright statement."
        },
        "wmo:status": {
          "description": "The operational status of a given dataset.",
          "$ref": "#/properties/properties/properties/themes/items/properties/concepts/items"
        }
      }
    },
    "links": {
      "type": "array",
      "minItems": 1,
      "items": {
        "$ref": "#/definitions/Link"
      }
    },
    "linkTemplates": {
      "type": "array",
      "items": {
        "allOf": [
          {
            "type": "object",
            "properties": {
              "rel": {
                "type": "string",
                "description": "The type or semantics of the relation.",
                "example": "alternate"
              },
              "type": {
                "type": "string",
                "description": "A hint indicating what the media type of the result of dereferencing the link should be.",
                "example": "application/geo+json"
              },
              "hreflang": {
                "type": "string",
                "description": "A hint indicating what the language of the result of dereferencing the link should be.",
                "example": "en"
              },
              "title": {
                "type": "string",
                "description": "Used to label the destination of a link such that it can be used as a human-readable identifier.",
                "example": "Trierer Strasse 70, 53115 Bonn"
              },
              "length": {
                "type": "integer"
              },
              "created": {
                "type": "string",
                "description": "Date of creation of the resource pointed to by the link.",
                "format": "date-time"
              },
              "updated": {
                "type": "string",
                "description": "Most recent date on which the resource pointed to by the link was changed.",
                "format": "date-time"
              }
            }
          },
          {
            "type": "object",
            "required": [
              "uriTemplate"
            ],
            "properties": {
              "uriTemplate": {
                "type": "string",
                "description": "Supplies a resolvable URI to a remote resource (or resource fragment).",
                "example": "http://data.example.com/buildings/(building-id}"
              },
              "varBase": {
                "type": "string",
                "description": "The base URI to which the variable name can be appended to retrieve the definition of the variable as a JSON Schema fragment.",
                "format": "url"
              },
              "variables": {
                "type": "object",
                "description": "This object contains one key per substitution variable in the templated URL.  Each key defines the schema of one substitution variable using a JSON Schema fragment and can thus include things like the data type of the variable, enumerations, minimum values, maximum values, etc."
              }
            }
          }
        ]
      }
    }
  },
  "definitions": {
    "Link": {
      "$schema": "https://json-schema.org/draft/2020-12/schema",
      "$id": "https://raw.githubusercontent.com/wmo-im/wcmp2/main/schema/link.yaml",
      "title": "WCMP link object definition",
      "description": "WCMP link object definition",
      "type": "object",
      "required": [
        "href",
        "rel"
      ],
      "properties": {
        "rel": {
          "type": "string",
          "description": "The type or semantics of the relation.",
          "example": "alternate"
        },
        "type": {
          "type": "string",
          "description": "A hint indicating what the media type of the result of dereferencing the link should be.",
          "example": "application/geo+json"
        },
        "hreflang": {
          "type": "string",
          "description": "A hint indicating what the language of the result of dereferencing the link should be.",
          "example": "en"
        },
        "title": {
          "type": "string",
          "description": "Used to label the destination of a link such that it can be used as a human-readable identifier.",
          "example": "Trierer Strasse 70, 53115 Bonn"
        },
        "length": {
          "type": "integer"
        },
        "channel": {
          "type": "string",
          "description": "topic to subscribe to for broker workflow"
        },
        "security": {
          "type": "object",
          "patternProperties": {
            "^[a-zA-Z0-9\\.\\-_]+$": {
              "oneOf": [
                {
                  "$ref": "#/definitions/Schema_Reference"
                },
                {
                  "$ref": "#/definitions/Schema_SecurityScheme"
                }
              ]
            }
          }
        },
        "distribution": {
          "type": "object",
          "description": "the additional information qualifying the service and allowing to build and display the \"access\" information in a portal",
          "properties": {
            "availableFormats": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "available format short name."
                  },
                  "description": {
                    "type": "string",
                    "description": "the individual format description to allow building the portal information"
                  },
                  "numberOFiles": {
                    "type": "string",
                    "description": "typical number of files disseminated by the distribution mechanism over a period of time"
                  },
                  "typicalFilesize": {
                    "type": "string",
                    "description": "size of a typical individual file (e.g. KB, MB, GB)"
                  },
                  "typicalFilename": {
                    "type": "string",
                    "description": "example filename"
                  },
                  "samples": {
                    "description": "links of samples that can be openly accessed by users to provide a better understanding of the data",
                    "items": {
                      "type": "object",
                      "$ref": "#/properties/links/items/properties/distribution/properties/availableFormats/items/properties/documentation/items"
                    }
                  },
                  "documentation": {
                    "type": "array",
                    "description": "links to the associated documentation available for this format when applicable",
                    "items": {
                      "allOf": [
                        {
                          "type": "object",
                          "required": [
                            "rel"
                          ],
                          "properties": {
                            "rel": {
                              "type": "string",
                              "description": "The type or semantics of the relation.",
                              "example": "alternate"
                            },
                            "type": {
                              "type": "string",
                              "description": "A hint indicating what the media type of the result of dereferencing the link should be.",
                              "example": "application/geo+json"
                            },
                            "hreflang": {
                              "type": "string",
                              "description": "A hint indicating what the language of the result of dereferencing the link should be.",
                              "example": "en"
                            },
                            "title": {
                              "type": "string",
                              "description": "Used to label the destination of a link such that it can be used as a human-readable identifier.",
                              "example": "Trierer Strasse 70, 53115 Bonn"
                            },
                            "length": {
                              "type": "integer"
                            }
                          }
                        },
                        {
                          "type": "object",
                          "required": [
                            "href"
                          ],
                          "properties": {
                            "href": {
                              "type": "string",
                              "description": "The URI of the link target.",
                              "example": "http://data.example.com/buildings/123"
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "Schema_APIKeySecurityScheme": {
      "type": "object",
      "required": [
        "type",
        "name",
        "in"
      ],
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "apiKey"
          ]
        },
        "name": {
          "type": "string"
        },
        "in": {
          "type": "string",
          "enum": [
            "header",
            "query",
            "cookie"
          ]
        },
        "description": {
          "type": "string"
        }
      },
      "patternProperties": {
        "^x-": {}
      },
      "additionalProperties": false
    },
    "Schema_AuthorizationCodeOAuthFlow": {
      "type": "object",
      "required": [
        "authorizationUrl",
        "tokenUrl"
      ],
      "properties": {
        "authorizationUrl": {
          "type": "string",
          "format": "uri-reference"
        },
        "tokenUrl": {
          "type": "string",
          "format": "uri-reference"
        },
        "refreshUrl": {
          "type": "string",
          "format": "uri-reference"
        },
        "scopes": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        }
      },
      "patternProperties": {
        "^x-": {}
      },
      "additionalProperties": false
    },
    "Schema_ClientCredentialsFlow": {
      "type": "object",
      "required": [
        "tokenUrl"
      ],
      "properties": {
        "tokenUrl": {
          "type": "string",
          "format": "uri-reference"
        },
        "refreshUrl": {
          "type": "string",
          "format": "uri-reference"
        },
        "scopes": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        }
      },
      "patternProperties": {
        "^x-": {}
      },
      "additionalProperties": false
    },
    "Schema_HTTPSecurityScheme": {
      "type": "object",
      "required": [
        "scheme",
        "type"
      ],
      "properties": {
        "scheme": {
          "type": "string"
        },
        "bearerFormat": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "type": {
          "type": "string",
          "enum": [
            "http"
          ]
        }
      },
      "patternProperties": {
        "^x-": {}
      },
      "additionalProperties": false,
      "oneOf": [
        {
          "description": "Bearer",
          "properties": {
            "scheme": {
              "enum": [
                "bearer"
              ]
            }
          }
        },
        {
          "description": "Non Bearer",
          "not": {
            "required": [
              "bearerFormat"
            ]
          },
          "properties": {
            "scheme": {
              "not": {
                "enum": [
                  "bearer"
                ]
              }
            }
          }
        }
      ]
    },
    "Schema_ImplicitOAuthFlow": {
      "type": "object",
      "required": [
        "authorizationUrl",
        "scopes"
      ],
      "properties": {
        "authorizationUrl": {
          "type": "string",
          "format": "uri-reference"
        },
        "refreshUrl": {
          "type": "string",
          "format": "uri-reference"
        },
        "scopes": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        }
      },
      "patternProperties": {
        "^x-": {}
      },
      "additionalProperties": false
    },
    "Schema_OAuth2SecurityScheme": {
      "type": "object",
      "required": [
        "type",
        "flows"
      ],
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "oauth2"
          ]
        },
        "flows": {
          "$ref": "#/definitions/Schema_OAuthFlows"
        },
        "description": {
          "type": "string"
        }
      },
      "patternProperties": {
        "^x-": {}
      },
      "additionalProperties": false
    },
    "Schema_OAuthFlows": {
      "type": "object",
      "properties": {
        "implicit": {
          "$ref": "#/definitions/Schema_ImplicitOAuthFlow"
        },
        "password": {
          "$ref": "#/definitions/Schema_PasswordOAuthFlow"
        },
        "clientCredentials": {
          "$ref": "#/definitions/Schema_ClientCredentialsFlow"
        },
        "authorizationCode": {
          "$ref": "#/definitions/Schema_AuthorizationCodeOAuthFlow"
        }
      },
      "patternProperties": {
        "^x-": {}
      },
      "additionalProperties": false
    },
    "Schema_OpenIdConnectSecurityScheme": {
      "type": "object",
      "required": [
        "type",
        "openIdConnectUrl"
      ],
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "openIdConnect"
          ]
        },
        "openIdConnectUrl": {
          "type": "string",
          "format": "uri-reference"
        },
        "description": {
          "type": "string"
        }
      },
      "patternProperties": {
        "^x-": {}
      },
      "additionalProperties": false
    },
    "Schema_PasswordOAuthFlow": {
      "type": "object",
      "required": [
        "tokenUrl"
      ],
      "properties": {
        "tokenUrl": {
          "type": "string",
          "format": "uri-reference"
        },
        "refreshUrl": {
          "type": "string",
          "format": "uri-reference"
        },
        "scopes": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        }
      },
      "patternProperties": {
        "^x-": {}
      },
      "additionalProperties": false
    },
    "Schema_Reference": {
      "type": "object",
      "required": [
        "$ref"
      ],
      "patternProperties": {
        "^\\$ref$": {
          "type": "string",
          "format": "uri-reference"
        }
      }
    },
    "Schema_SecurityScheme": {
      "oneOf": [
        {
          "$ref": "#/definitions/Schema_APIKeySecurityScheme"
        },
        {
          "$ref": "#/definitions/Schema_HTTPSecurityScheme"
        },
        {
          "$ref": "#/definitions/Schema_OAuth2SecurityScheme"
        },
        {
          "$ref": "#/definitions/Schema_OpenIdConnectSecurityScheme"
        }
      ]
    }
  }
}
